---
const defaultLocale = 'en';
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Redirecting...</title>
    <meta name="robots" content="noindex" />
    <link rel="canonical" href="https://novameat.com/en" />
    <script>
      function redirectToDefaultLocale() {
        const ref = document.referrer;
        const fromOutside = ref === '' || !ref.startsWith(window.location.origin);

        console.log("🚀 Redirigiendo a /en");
        console.log("🔗 Referrer:", ref);
        console.log("🌍 From outside?", fromOutside);

        if (fromOutside) {
          // El usuario viene desde Google u otro dominio → href (se agrega al historial)
          window.location.href = "/en";
        } else {
          // Navegación interna → replace (limpio historial)
          window.location.replace("/en");
        }
      }

      // Redirige después de pintar (evita pantalla blanca)
      setTimeout(redirectToDefaultLocale, 100);
    </script>
  </head>
  <body>
    <p>Redirecting...</p>
  </body>
</html>
